(function(){"use strict";function e(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(a=a[/[\d.]+$/.exec(e)])&&(e="Windows "+a),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=i(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=m)for(;++n<i;)t(e[n],n,e);else a(e,t)}function i(t){return t=c(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function a(e,t){for(var n in e)x.call(e,n)&&t(e[n],n,e)}function o(t){return null==t?e(t):T.call(t).slice(8,-1)}function r(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function s(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function l(e,t){var i=null;return n(e,function(n,a){i=t(i,n,a,e)}),i}function c(e){return String(e).replace(/^ +| +$/g,"")}function d(e){function n(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}function u(t){return l(t,function(t,n,i){return t||(n[U]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+s(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i})}function h(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}function g(n){return l(n,function(n,i){var a=i.pattern||s(i);return!n&&(n=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,a,i.label||i)),n})}function v(t){return l(t,function(t,n){var a=n.pattern||s(n);return!t&&(t=RegExp("\\b"+a+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+a+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+a+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(a,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=i(t[0].replace(RegExp(a,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function m(t){return l(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function w(){return this.description||""}var x=f,S=e&&"object"==typeof e&&"String"!=o(e);S&&(x=e,e=null);var E=x.navigator||{},k=E.userAgent||"";e||(e=k);var C,P,L=S||b==p,M=S?!!E.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(T.toString()),A="Object",D=S?A:"ScriptBridgingProxyObject",O=S?A:"Environment",N=S&&x.java?"JavaPackage":o(x.java),_=S?A:"RuntimeObject",j=/\bJava/.test(N)&&x.java,B=j&&o(x.environment)==O,I=j?"a":"α",q=j?"b":"β",W=x.document||{},R=x.operamini||x.opera,X=y.test(X=S&&R?R["[[Class]]"]:o(R))?X:R=null,z=e,H=[],Y=null,F=e==k,G=F&&R&&"function"==typeof R.version&&R.version(),$=n([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),V=h(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=v([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),K=u({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),J=g(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if($&&($=[$]),K&&!U&&(U=v([K])),(C=/\bGoogle TV\b/.exec(U))&&(U=C[0]),/\bSimulator\b/i.test(e)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(e)&&H.push("running in Turbo/Uncompressed mode"),"IE"==V&&/\blike iPhone OS\b/.test(e)?(C=d(e.replace(/like iPhone OS/,"")),K=C.manufacturer,U=C.product):/^iP/.test(U)?(V||(V="Safari"),J="iOS"+((C=/ OS ([\d_]+)/i.exec(e))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"!=V||/buntu/i.test(J)?K&&"Google"!=K&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(U))||/\bAndroid\b/.test(J)&&/^Chrome/.test(V)&&/\bVersion\//i.test(e)?(V="Android Browser",J=/\bAndroid\b/.test(J)?J:"Android"):"Silk"==V?(/\bMobi/i.test(e)||(J="Android",H.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&H.unshift("accelerated")):"PaleMoon"==V&&(C=/\bFirefox\/([\d.]+)\b/.exec(e))?H.push("identifying as Firefox "+C[1]):"Firefox"==V&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(J||(J="Firefox OS"),U||(U=C[1])):!V||(C=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!U&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(C+"/")+8))&&(V=null),(C=U||K||J)&&(U||K||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:C)+" Browser")):"Electron"==V&&(C=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&H.push("Chromium "+C):J="Kubuntu",G||(G=m(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",s(V),"(?:Firefox|Minefield|NetFront)"])),(C="iCab"==$&&parseFloat(G)>3&&"WebKit"||/\bOpera\b/.test(V)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test($)&&"WebKit"||!$&&/\bMSIE\b/i.test(e)&&("Mac OS"==J?"Tasman":"Trident")||"WebKit"==$&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&($=[C]),"IE"==V&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(V+=" Mobile",J="Windows Phone "+(/\+$/.test(C)?C:C+".x"),H.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(V="IE Mobile",J="Windows Phone 8.x",H.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=V&&"Trident"==$&&(C=/\brv:([\d.]+)/.exec(e))&&(V&&H.push("identifying as "+V+(G?" "+G:"")),V="IE",G=C[1]),F){if(r(x,"global"))if(j&&(C=j.lang.System,z=C.getProperty("os.arch"),J=J||C.getProperty("os.name")+" "+C.getProperty("os.version")),L&&r(x,"system")&&(C=[x.system])[0]){J||(J=C[0].os||null);try{C[1]=x.require("ringo/engine").version,G=C[1].join("."),V="RingoJS"}catch(Q){C[0].global.system==x.system&&(V="Narwhal")}}else"object"==typeof x.process&&!x.process.browser&&(C=x.process)?"object"==typeof C.versions?"string"==typeof C.versions.electron?(H.push("Node "+C.versions.node),V="Electron",G=C.versions.electron):"string"==typeof C.versions.nw&&(H.push("Chromium "+G,"Node "+C.versions.node),V="NW.js",G=C.versions.nw):(V="Node.js",z=C.arch,J=C.platform,G=/[\d.]+/.exec(C.version),G=G?G[0]:"unknown"):B&&(V="Rhino");else o(C=x.runtime)==D?(V="Adobe AIR",J=C.flash.system.Capabilities.os):o(C=x.phantom)==_?(V="PhantomJS",G=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof W.documentMode&&(C=/\bTrident\/(\d+)/i.exec(e))?(G=[G,W.documentMode],(C=+C[1]+4)!=G[1]&&(H.push("IE "+G[1]+" mode"),$&&($[1]=""),G[1]=C),G="IE"==V?String(G[1].toFixed(1)):G[0]):"number"==typeof W.documentMode&&/^(?:Chrome|Firefox)\b/.test(V)&&(H.push("masking as "+V+" "+G),V="IE",G="11.0",$=["Trident"],J="Windows");J=J&&i(J)}if(G&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(F&&E.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(Y=/b/i.test(C)?"beta":"alpha",G=G.replace(RegExp(C+"\\+?$"),"")+("beta"==Y?q:I)+(/\d+\+?/.exec(C)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS)\b/.test(J))V="Firefox Mobile";else if("Maxthon"==V&&G)G=G.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(J=null),"Xbox 360"==U&&/\bIEMobile\b/.test(e)&&H.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||U||/Browser|Mobi/.test(V))||"Windows CE"!=J&&!/Mobi/i.test(e))if("IE"==V&&F)try{null===x.external&&H.unshift("platform preview")}catch(Q){H.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(e))&&(C=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||G)?(C=[C,/BB10/.test(e)],J=(C[1]?(U=null,K="BlackBerry"):"Device Software")+" "+C[0],G=null):this!=a&&"Wii"!=U&&(F&&R||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(J)||"IE"==V&&(J&&!/^Win/.test(J)&&G>5.5||/\bWindows XP\b/.test(J)&&G>8||8==G&&!/\bTrident\b/.test(e)))&&!y.test(C=d.call(a,e.replace(y,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),y.test(V)?(/\bIE\b/.test(C)&&"Mac OS"==J&&(J=null),C="identify"+C):(C="mask"+C,V=X?i(X.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(J=null),F||(G=null)),$=["Presto"],H.push(C));else V+=" Mobile";(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==V&&"+"==C[1].slice(-1)?(V="WebKit Nightly",Y="alpha",G=C[1].slice(0,-1)):G!=C[1]&&G!=(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(G=null),C[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==$&&($=["Blink"]),F&&(M||C[1])?($&&($[1]="like Chrome"),C=C[1]||(C=C[0],C<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:"Blink"!=$?"27":"28")):($&&($[1]="like Safari"),C=C[0],C=C<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:"8"),$&&($[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==V&&(!G||parseInt(G)>45)&&(G=C)),"Opera"==V&&(C=/\bzbov|zvav$/.exec(J))?(V+=" ",H.unshift("desktop mode"),"zvav"==C?(V+="Mini",G=null):V+="Mobile",J=J.replace(RegExp(" *"+C+"$"),"")):"Safari"==V&&/\bChrome\b/.exec($&&$[1])&&(H.unshift("desktop mode"),V="Chrome Mobile",G=null,/\bOS X\b/.test(J)?(K="Apple",J="iOS 4.3+"):J=null),G&&0==G.indexOf(C=/[\d.]+$/.exec(J))&&e.indexOf("/"+C+"-")>-1&&(J=c(J.replace(C,""))),$&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(J)&&/\bSafari\b/.test($[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(V)&&$[1])&&(C=$[$.length-1])&&H.push(C),H.length&&(H=["("+H.join("; ")+")"]),K&&U&&U.indexOf(K)<0&&H.push("on "+K),U&&H.push((/^on /.test(H[H.length-1])?"":"on ")+U),J&&(C=/ ([\d.+]+)$/.exec(J),P=C&&"/"==J.charAt(J.length-C[0].length-1),J={architecture:32,family:C&&!P?J.replace(C[0],""):J,version:C?C[1]:null,toString:function(){var e=this.version;return this.family+(e&&!P?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(z))&&!/\bi686\b/i.test(z)?(J&&(J.architecture=64,J.family=J.family.replace(RegExp(" *"+C),"")),V&&(/\bWOW64\b/i.test(e)||F&&/\w(?:86|32)$/.test(E.cpuClass||E.platform)&&!/\bWin64; x64\b/i.test(e))&&H.unshift("32-bit")):J&&/^OS X/.test(J.family)&&"Chrome"==V&&parseFloat(G)>=39&&(J.architecture=64),e||(e=null);var Z={};return Z.description=e,Z.layout=$&&$[0],Z.manufacturer=K,Z.name=V,Z.prerelease=Y,Z.product=U,Z.ua=e,Z.version=V&&G,Z.os=J||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=d,Z.toString=w,Z.version&&H.unshift(G),Z.name&&H.unshift(V),J&&V&&(J!=String(J).split(" ")[0]||J!=V.split(" ")[0]&&!U)&&H.push(U?"("+J+")":"on "+J),H.length&&(Z.description=H.join(" ")),Z}var u={"function":!0,object:!0},f=u[typeof window]&&window||this,p=f,h=u[typeof exports]&&exports,g=u[typeof module]&&module&&!module.nodeType&&module,v=h&&g&&"object"==typeof global&&global;!v||v.global!==v&&v.window!==v&&v.self!==v||(f=v);var m=Math.pow(2,53)-1,y=/\bOpera/,b=this,w=Object.prototype,x=w.hasOwnProperty,T=w.toString,S=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(f.platform=S,define(function(){return S})):h&&g?a(S,function(e,t){h[t]=e}):f.platform=S}).call(this),function(e,t){var n={},i=[];n.onReady=function(e){i.push(e)},n.dispatchGlobalReady=function(){for(var e=i.length-1;e>=0;e--)i[e]();i=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(e){return{osVersion:e.os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"}}(e.platform),n.browser=function(e){return{name:e.name,version:e.version,platform:e}}(e.platform),n.ajax=function(){var t=function(e){var t=null;try{t=new XMLHttpRequest,"withCredentials"in t&&e&&(t.withCredentials=!0)}catch(n){console.error(n)}return t},n=function(e){var t=null;try{t=JSON.parse(e)}catch(n){t=null}return t},i=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";var i=n.lastIndexOf("&");return i!==-1&&(e=n.substring(0,i)),n};return function(a){var o=a.method,r=a.url,s="boolean"==typeof a.crossDomain&&a.crossDomain,l=a.contentType,c=a.dataType,d=a.data,u=a.timeout,f=a.success,p=a.error,h=a.headers;if("string"!=typeof o)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");"undefined"==typeof a.contentType&&(a.contentType="application/x-www-form-urlencoded; charset=UTF-8"),"object"==typeof d&&(d="application/json"===l?JSON.stringify(d):i(d));var g=t(s),v="NO_INTERNET_ACCESS";if(g){if(g.open(o,r,!0),"string"==typeof l&&g.setRequestHeader("Content-type",l),"xml"===c&&g.overrideMimeType&&g.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)g.setRequestHeader(m,h[m])}g.onreadystatechange=function(t){if(4===g.readyState){var i=null;"json"===c?(i=n(g.responseText),null===i&&(v="JSON_MALFORMED")):i="xml"===c?g.responseXML:g.responseText;var a=g.status.toString();"2"===a[0]&&"function"==typeof f?f(i,g):"function"==typeof p&&e.setTimeout(function(){p(i,v,g)},1),g=null}},"number"==typeof u&&(g.timeout=u,g.ontimeout=function(){v="TIMEOUT_EXCEEDED"}),g.send(d)}else"function"==typeof p&&(v="XMLHTTPREQUEST_UNAVAILABLE",p(v));return{cancel:function(){v="REQUEST_CANCELED",g&&g.abort()}}}}(),n.event=function(i){var a=["mousedown","mousemove","mouseup"],o=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(o=!0,a=["touchstart","touchmove","touchend","touchcancel"]),e.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup","pointercancel"]:e.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var r={};r.hasTouch=o,r.start=a[0],r.move=a[1],r.end=a[2],r.cancel="undefined"==typeof a[3]?null:a[3],r.tap="tap",r.forceTap=!1;var s=document.createElement("div"),l=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],d=null,u=null,f=l.length-1;for(f in l)if(s.style[l[f].name]!==t){d=l[f].end;break}var p=c.length-1;for(p in c)if(s.style[c[p].name]!==t){u=c[p].end;break}var h=n.device.osVersion;h&&h.length>2&&(h=n.device.osVersion.substring(0,3)),n.device.os&&"android"===n.device.os.toLowerCase()&&"4.1"===h&&(d="webkitTransitionEnd",u="webkitAnimationEnd"),r.transitionEnd=d,r.animationEnd=u;var g=[],v=function(){function t(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(r.start,this,!1)}return t.prototype.start=function(e){this.el.addEventListener(r.move,this,!1),this.el.addEventListener(r.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},t.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(Math.abs(t-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},t.prototype.end=function(t){if(this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1),!this.moved){if("undefined"!=typeof i){var n=new e.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(n)}this.callback(t)}},t.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},t.prototype.off=function(){this.el.removeEventListener(r.start,this,!1),this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1)},t.prototype.handleEvent=function(e){switch(e.type){case r.start:this.start(e);break;case r.move:this.move(e);break;case r.end:this.end(e);break;case r.cancel:this.cancel(e)}},t}();return n.on=function(e,t,n,i){var a=function(e,t,n,i){if(t===r.tap&&(r.hasTouch||r.forceTap)){var a=new v(e,n);return void g.push(a)}t===r.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n,i)};if("undefined"==typeof e.length)a(e,t,n,i);else for(var o=0,s=e.length;o<s;o++)a(e[o],t,n,i)},e.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,i){n.on(this,e,t,i)},n.off=function(e,t,n,i){var a=function(e,t,n,i){if(t!==r.tap||!r.hasTouch&&!r.forceTap)t===r.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,i):e.attachEvent&&e.detachEvent("on"+t,n,i);else for(var a=0,o=g.length;a<o;a++)if(g[a].el===e){g[a].off(),g.splice(a,1);break}};if("undefined"==typeof e.length)a(e,t,n,i);else for(var o=0,s=e.length;o<s;o++)a(e[o],t,n,i)},e.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,i){n.off(this,e,t,i)},r}(e.jQuery),n.tagManager=function(){if("undefined"!=typeof riot){var e=[],t=function(t,n){t[0].tagName=n,e.push(t[0])},n=function(){return e},i=function(t,n,i){for(var a=[],o=e.length-1;o>=0;o--)if(e[o].tagName===t){a.push(n);var r=a.concat(i);e[o].trigger.apply(this,r);break}};return{addTag:t,getAll:n,trigger:i}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,i,a){return n.dialog().alert(e,t,i,a)},n.confirm=function(e,t,i,a,o){return n.dialog().confirm(e,t,i,a,o)},n.prompt=function(e,t,i,a,o){return n.dialog().prompt(e,t,i,a,o)},n.passPrompt=function(e,t,i,a,o){return n.dialog().passPrompt(e,t,i,a,o)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot;n.i18n().setPreference(e).getAll(function(e){if(t){for(var i=n.tagManager.getAll(),a=i.length-1;a>=0;a--)i[a].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(d.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=e.directory.indexOf("/",e.directory.length-"/".length)!==-1?e.directory:e.directory+"/");var t;for(t in e)d[t]=e[t];"undefined"!=typeof e.use&&(d.loadJson=!1),d.initCalled=!0}function i(e){if(!d.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=d.localePreferred?d.localePreferred:d.localeFallback;if(d.loadJson){if(null!==c)return void e(c);var n=new XMLHttpRequest;n.open("GET",d.directory+t+".json",!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8");var a=function(){d.localePreferred=null,i(function(t){c=t,e(t)})};n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))try{var t=JSON.parse(n.responseText);c=t,e(c)}catch(i){a()}else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!d.localePreferred)throw new Error("The default locale ["+d.directory+d.localeFallback+".json] file is not found");a()}},n.send("")}else{var o=d.use[t];"undefined"==typeof o&&(o=d.use[d.localeFallback]),e(o)}}function a(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array;if(d.loadJson&&null!==c)if(n){for(var a=e.length,o=a-1,r={};o>=0;o--)r[e[o]]=c[e[o]];t(r)}else t(c[e]);else i(function(i){if(n){for(var a=e.length,o=a-1,r={};o>=0;o--)r[e[o]]=i[e[o]];t(r)}else t(i[e])})}function o(e,n){var a=e||t,o=n;if(1===arguments.length&&"function"==typeof e&&(a=t,o=e),!u(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?i(function(e){v(r,e),"function"==typeof o&&o()}):(v(r,c),"function"==typeof o&&o())}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return d.localePreferred=e,c=null,m}function s(){return d.localePreferred}function l(){return e.navigator.userLanguage||e.navigator.language}var c=null,d={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1,loadJson:!0},u=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},f=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},p=function(e,t){e.innerHTML=t},h=function(e,t){e.value=t},g=function(e,t){e.setAttribute("placeholder",t)},v=function(e,t){for(var n=e.length-1;n>=0;n--)for(var i,a=e[n],o=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;i=r.exec(o);){var s=i[1].trim(),l=i[2].trim().replace(",","");if(void 0!==t[l])if("text"===s)f(a,t[l]);else if("html"===s)p(a,t[l]);else if("value"===s)h(a,t[l]);else{if("placeholder"!==s)throw new Error("The property: "+s+" is unknown");g(a,t[l])}else console.error("The value: "+l+" does not exist in the JSON file")}},m={};m.init=n,m.getAll=i,m.get=a,m.bind=o,m.setPreference=r,m.getPreference=s,m.getLocale=l,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return i(e),this},get:function(e,t){return a(e,t),this},bind:function(e,t){return o(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return s()},getLocale:function(){return l()}}}}(window,document),function(e,t,n){"use strict";function i(t,n){"undefined"==typeof e.phononDOM[t]&&(e.phononDOM[t]={});var i='var page = window.phononDOM["'+t+'"];';i+=n;var a=document.createElement("script");a.text=i,document.head.appendChild(a).parentNode.removeChild(a)}function a(){if(R.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}d(_),u(B),N=!1}function o(){if(R.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,o,!1),e.classList.remove("app-active")}d(_),u(B),N=!1}function r(t,n,i){var a={detail:{page:n},bubbles:!0,cancelable:!0};"undefined"!=typeof i&&(a.detail.req=i);var o=new e.CustomEvent(t,a);document.dispatchEvent(o)}function s(e,t,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];o.event===e&&"function"==typeof o.callback&&o.callback(n)}}function l(t){W&&n.tagManager.trigger(t,"create"),r("pagecreated",t);var i=z(t);if(i.activity instanceof X&&"function"==typeof i.activity.onCreateCallback&&i.activity.onCreateCallback(),s("create",i.callbackRegistered),"object"==typeof e.phononDOM[i.name]){var a=e.phononDOM[i.name].onCreate;"function"==typeof a&&a()}}function c(t){var i=z(t);e.setTimeout(function(){if(W&&n.tagManager.trigger(t,"ready"),r("pageopened",t),i.activity instanceof X&&"function"==typeof i.activity.onReadyCallback&&i.activity.onReadyCallback(),s("ready",i.callbackRegistered),"object"==typeof e.phononDOM[i.name]){var a=e.phononDOM[i.name].onReady;"function"==typeof a&&a()}},i.readyDelay)}function d(t){W&&n.tagManager.trigger(t,"transitionend"),r("pagetransitionend",t);var i=z(t);if(i.activity instanceof X&&"function"==typeof i.activity.onTransitionEndCallback&&i.activity.onTransitionEndCallback(),s("transitionend",i.callbackRegistered),"object"==typeof e.phononDOM[i.name]){var a=e.phononDOM[i.name].onTransitionEnd;"function"==typeof a&&a()}}function u(t){W&&n.tagManager.trigger(t,"hidden"),r("pagehidden",t);var i=z(t);if(i.activity instanceof X&&"function"==typeof i.activity.onHiddenCallback&&i.activity.onHiddenCallback(),s("hidden",i.callbackRegistered),"object"==typeof e.phononDOM[i.name]){var a=e.phononDOM[i.name].onHidden;"function"==typeof a&&a()}}function f(t,i){W&&n.tagManager.trigger(t,"tabchanged",i),r("pagetabchanged",t);var a=z(t);if(a.activity instanceof X&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(i),s("tabchanged",a.callbackRegistered,i),"object"==typeof e.phononDOM[a.name]){var o=e.phononDOM[a.name].onTabChanged;"function"==typeof o&&o(i)}}function p(t,i,a){function o(){r("pageclosed",t);var n=e.location.hash.split("#")[1];n!==a&&R.useHash?e.location.hash=a:M(a)}if(!w()){var l=z(t);if(!l.async)return void o(!0);var c={close:o};if(W&&n.tagManager.trigger(t,"close",c),l.activity instanceof X&&"function"==typeof l.activity.onCloseCallback&&l.activity.onCloseCallback(c),s("close",l.callbackRegistered,c),"object"==typeof e.phononDOM[l.name]){var d=e.phononDOM[l.name].onClose;"function"==typeof d&&d(c)}}}function h(t,i){if("undefined"!=typeof i){W&&n.tagManager.trigger(t,"hashchanged",i),r("pagehash",t,i);var a=z(t);if(a.activity instanceof X&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(i),s("hashchanged",a.callbackRegistered,i),"object"==typeof e.phononDOM[a.name]){var o=e.phononDOM[a.name].onHashChanged;"function"==typeof o&&o(i)}}}function g(e,t){"tabchanged"===e&&f(t.page,t.tabNumber)}function v(e,a,o){if(W&&t.compile(function(){R.useI18n?n.i18n().getAll(function(i){n.tagManager.addTag(t.mount(e,{i18n:i}),e),a()}):(n.tagManager.addTag(t.mount(e,{i18n:null}),e),a())}),!W){var r=z(e);if(null!==r.content){if(null===r.nocache||null===r.showloader){var s=function(e){var t=H(e);r.nocache=!1,r.showloader=!1,"true"===t.getAttribute("data-nocache")&&(r.nocache=!0),"true"===t.getAttribute("data-loader")&&(r.showloader=!0)};s(e)}r.showloader&&document.body.classList.add("loading"),m(r.content,function(t){r.showloader&&document.body.classList.remove("loading");var o=H(e),s=document.createElement("div");s.innerHTML=t;var l=s.querySelector(e);if(null===l)throw new Error("Error with "+r.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=l.attributes,d=c.length-1;d>=0;d--){var u=c.item(d);"class"!==u.nodeName&&"app-page"!==u.nodeValue&&o.setAttribute(u.nodeName,u.nodeValue)}var f=function(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var a=t[n].getAttribute("type");"text/javascript"!==a&&null!==a||i(r.name,t[n].innerHTML)}};R.useI18n?n.i18n().bind(l,function(){o.innerHTML=l.innerHTML,f(s),a()}):(o.innerHTML=l.innerHTML,f(s),a())},o)}else a()}}function m(e,t,n){var i=new XMLHttpRequest;i.overrideMimeType&&i.overrideMimeType("text/html; charset=utf-8"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||!i.status&&i.responseText.length)&&t(i.responseText,R,e)},"string"!=typeof n?(i.open("GET",R.templateRootDirectory+e,!0),i.send("")):(i.open("POST",R.templateRootDirectory+e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(n))}function y(e,t){t="object"==typeof t?t:{};var n,i={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)i[n]=t[n];return i}function b(e,t){t="object"==typeof t?t:{};var n=z(e);if(null===n)return A.push(y(e,t));var i;for(i in t)n[i]=t[i];return!0}function w(){return!("undefined"==typeof n.dialog||!n.dialogUtil.closeActive())||(!("undefined"==typeof n.popover||!n.popoverUtil.closeActive())||(!("undefined"==typeof n.panel||!n.panelUtil.closeActive())||!("undefined"==typeof n.sidePanel||!n.sidePanelUtil.closeActive())))}function x(){var e={page:R.defaultPage,params:""};if(D.length>0){for(var t=-1,n=D.length-1;n>=0;n--)if(D[n].page===_){t=n-1;break}t>-1&&(e=D[t],D=D.slice(0,t))}return e}function T(t){var n,t=t||e.event,i=t.target,a="";if("object"==typeof i&&"FORM"==i.nodeName){var o;for(o=i.elements.length-1;o>=0;o--)if(n=i.elements[o],n.name&&"file"!=n.type&&"reset"!=n.type)if("select-multiple"==n.type)for(j=i.elements[o].options.length-1;j>=0;j--)n.options[j].selected&&(a+="&"+n.name+"="+encodeURIComponent(n.options[j].value).replace(/%20/g,"+"));else("submit"!=n.type&&"button"!=n.type||t.target==n)&&("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(a+="&"+n.name+"="+encodeURIComponent(n.value).replace(/%20/g,"+"))}return a.substr(1)}function S(e){q=!0;var t=e.target,n=null,i=!1,a="";if("submit"==e.type){var o=t.getAttribute("action");if(o.match(new RegExp("^#"+R.hashPrefix)))return e.preventDefault(),n=o.substr(1+R.hashPrefix.length),p(_,n,R.hashPrefix+n),k(n,function(){},T(e)),L(o.substr(1+R.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if("undefined"!=typeof t.href&&t.href.indexOf("#!")!==-1){i=!0;break}if(r){n=r;break}}if((!i||!R.useHash)&&(null!==n||i)){var s=R.defaultPage;if(null!==n)if("$previous-page"===n){var l=x();s=l.page,a=l.params}else s=n;else{var c=t.href.match("/#"+R.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(s=c[1],a=c[2])}var d=R.hashPrefix+s;""!==a&&(d=d+"/"+a,d=d.replace("//","/")),p(_,s,d)}}function E(e,t){var i=H(e),r=H(t);r.classList.add("app-active"),R.animatePages?(i.classList.add("page-sliding"),I?(i.classList.add("left"),i.on(n.event.animationEnd,a,!1)):(i.classList.add("right"),i.on(n.event.animationEnd,o,!1))):(i.classList.remove("app-active"),I?a():o());for(var s=r.querySelectorAll(".content"),l=s.length-1;l>=0;l--){var c=s[l];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}t===R.defaultPage&&(D=[])}function k(e,t,i){if(N&&"function"==typeof t)return t();var a=z(e);
O&&(N=!0,B=_,_=e),!a.mounted||a.nocache?v(a.name,function(){if(a.mounted=!0,l(e),c(e),O||n.dispatchGlobalReady(),O&&E(B,e),!O){O=!0;var i=H(e);i.classList.contains("app-active")||i.classList.add("app-active")}"function"==typeof t&&t()},i):(c(e),E(B,e),"function"==typeof t&&t())}function C(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)!==-1?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)R[t]=e[t];R.enableBrowserBackButton&&(q=!0);for(var n=document.querySelectorAll("[data-page]"),i=n.length-1;i>=0;i--){var a=n[i];a.classList.contains("app-page")||a.classList.add("app-page"),b(a.tagName.toLowerCase())}}function P(){if(O)throw new Error("The app has been already started");var e="";n.device.os&&(e=n.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),M()}function L(t,n){var i=z(_),a=z(t);if(!a)throw new Error("The following page: "+t+" does not exists");var o=R.hashPrefix+a.name;"undefined"!=typeof n&&(o=R.hashPrefix+a.name+"/"+n),i.async?p(_,a.name,o):e.location.hash.indexOf(o)===-1&&R.useHash&&(e.location.hash=o)}function M(t,n){var i,a="string"==typeof t?t:e.location.href.split("#")[1]||"",o=a.split("/"),r=o.slice(1,o.length),s=o[0],l=R.hashPrefix.indexOf("/");l!==-1?(s="undefined"==typeof o[1]?"":o[1],r=o.slice(2,o.length),i=s.substring(l+1,s.length)):i=s.substring(R.hashPrefix.length,s.length);var c=z(i);if(O||c)!O&&c&&(_=c.name);else if(_=R.defaultPage,c=z(R.defaultPage),R.useHash)return void(e.location.hash=R.hashPrefix+R.defaultPage);if(c){if(w(),c.name===_&&O)return void h(c.name,r);if(O&&!q)return;for(var d=!1,u=D.length-1;u>=0;u--)if(D[u].page===c.name){d=!0;break}if(D.length>0?c.name===R.defaultPage&&(I=!1):I=!0,D.length>1&&D[D.length-2].page===c.name&&(I=!1),!d){var f=r.join("/");D.push({page:c.name,params:f})}"function"!=typeof c.callback||c.mounted||c.callback(c.activity),c.mounted?(k(c.name,null,n),h(c.name,r)):k(c.name,function(){h(c.name,r)},n),R.enableBrowserBackButton||(q=!1)}}e.phononDOM={};var A=[],D=[],O=!1,N=!1,_=null,B=null,I=!0,q=!1,W=void 0!==t,R={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},X=function(){function e(e){if("object"==typeof e){var t;for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this[t+"Callback"]=e[t])}}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e.apply(this,t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),z=function(e){for(var t=A.length-1;t>=0;t--)if(A[t].name===e)return A[t];return null},H=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,i=null;n>=0;n--){var a=t[n].getAttribute("data-alias");if(t[n].tagName.toLowerCase()===e||a===e){i=t[n];break}}return i};document.on("tap",S),document.on("submit",S),R.useHash&&e.addEventListener("hashchange",M),document.on("backbutton",function(){if(!w()){var e=x();p(_,e.page,R.hashPrefix+e.page+"/"+e.params)}}),n.navigator=function(t){return"object"==typeof t&&C(t),{currentPage:_,previousPage:B,start:P,changePage:function(t,n){q=!0;var i=w()?400:1;e.setTimeout(function(){if("$previous-page"==t){var e=x();e&&(t=e.page,n=e.params)}L(t,n)},i)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if("undefined"!=typeof e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof R.defaultTemplateExtension&&(e.content=e.page+"."+R.defaultTemplateExtension);var n=z(e.page),i=null!==n;i||(n=y(e.page)),"function"==typeof t||"object"==typeof t?n.activity=new X(t):n.activity=null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,b(e.page.toLowerCase(),n)},onPage:function(e){if("string"!=typeof e)throw new Error("PageName must be a string");return b(e,{}),{addEvent:function(t,n){var i=z(e);i.callbackRegistered.push({event:t,callback:n})}}},callCallback:g}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon),function(e){"use strict";function t(t,n){n.style.display="block";var i=n.offsetHeight;n.style.maxHeight="0px",e.setTimeout(function(){var e=function(){n.off(phonon.event.transitionEnd,e);var i=t.parentNode.querySelector(".icon-expand-more");i&&(i.classList.remove("icon-expand-more"),i.classList.add("icon-expand-less"))};n.on(phonon.event.transitionEnd,e),n.style.maxHeight=i+"px",n.classList.add("accordion-active")},100)}function n(e,t){var n=function(){t.style.display="none",t.classList.remove("accordion-active"),t.style.maxHeight="none";var i=e.parentNode.querySelector(".icon-expand-less");i&&(i.classList.remove("icon-expand-less"),i.classList.add("icon-expand-more")),t.off(phonon.event.transitionEnd,n)};t.style.maxHeight="0px",t.on(phonon.event.transitionEnd,n)}function i(e){for(;e&&e!==document;e=e.parentNode)if(e.nextElementSibling&&e.nextElementSibling.classList.contains("accordion-content"))return{defaultTarget:e,accordionContent:e.nextElementSibling};return null}function a(e){for(;e&&e!==document;e=e.parentNode)if("true"===e.getAttribute("data-page"))return!0;return!1}function o(e){var a=i(e.target);null!==a&&(a.accordionContent.classList.contains("accordion-active")?n(a.defaultTarget,a.accordionContent):t(a.defaultTarget,a.accordionContent))}document.on("pagecreated",function(e){var t=document.querySelector(e.detail.page),n=t.querySelectorAll(".list");if(n)for(var i=0,a=n.length;i<a;i++){var r=n[i];r.querySelector(".accordion-content")&&r.on("tap",o)}}),document.on("pageclosed",function(e){for(var t=document.querySelector(e.detail.page),n=t.querySelectorAll(".accordion-active"),i=(n.length,0);i<n.length;i++){var a=n[i].previousElementSibling;o({target:a})}}),phonon.onReady(function(){var e=document.body.querySelectorAll(".list");if(e)for(var t=0,n=e.length;t<n;t++){var i=e[t];i.querySelector(".accordion-content")&&!a(i)&&i.on("tap",o)}})}("undefined"!=typeof window?window:this),phonon.autocomplete=function(e){var t=function(e){var t=e.target,n=t.parentNode.querySelector("ul");n&&(n.style.width=t.clientWidth+"px")},n=function(n,i){return"undefined"==typeof e?void console.error("The autocomplete component requires Awesomplete dependency."):(n.addEventListener("awesomplete-open",t),new e(n,i))};return n}(window.Awesomplete),function(e,t){"use strict";function n(e,t){for(var n=0;n<u.length;n++)if(u[n].dialog===e){u[n].cancelCallback=t;break}}function i(){var e=m(this.getAttribute("data-id")),n=e.backdrop;n.classList.remove("fadeout"),document.body.removeChild(n);var a=e.dialog;a.style.visibility="hidden",a.style.display="none",a.classList.remove("close"),a.getAttribute("data-auto")&&document.body.removeChild(a),u.splice(e.index,1),this.off(t.event.transitionEnd,i,!1)}function a(t){var n=getComputedStyle(t),i=n.width,a=n.height;i=i.slice(0,i.length-2),a=a.slice(0,a.length-2);var o=e.innerHeight/2-a/2;t.style.top=o+"px"}function o(e){if(e.style.visibility="visible",e.style.display="block",!e.classList.contains("active")){a(e),e.classList.add("active");var n=e.querySelector(".circle-progress");n&&t.preloader(n).show();var i=p(e.id);u.push({dialog:e,backdrop:i}),document.body.appendChild(i)}}function r(n){if(l(n),n.classList.contains("active")){n.classList.remove("active"),n.classList.add("close");var a=n.querySelector(".circle-progress");a&&t.preloader(a).hide();var o=m(n.id),r=o.backdrop;r.on(t.event.transitionEnd,i,!1),e.setTimeout(function(){r.classList.add("fadeout")},1)}}function s(e,t,i){if(f=function(){var t,n=e.querySelector("input");n&&(t=n.value),i(t)},"confirm"===t){var a=e.querySelector(".btn-confirm");a&&(a.fireConfirm=f,a.on("tap",f))}else{n(e,i);var o=e.querySelector(".btn-cancel");o&&o.on("tap",f)}}function l(e){if("function"==typeof f){var t=e.querySelectorAll(".btn-confirm, .btn-cancel");if(t)for(var n=0,i=t.length;n<i;n++)t[n].off("tap",f)}}function c(){var e=u.length>0;if(e){var t=u[u.length-1].dialog;"false"!==t.getAttribute("data-cancelable")&&r(t)}return e}var d=!1,u=[],f=null,p=function(e){var t=document.createElement("div");return t.setAttribute("data-id",e),t.classList.add("backdrop-dialog"),t},h=function(e){for(var t,n=document.querySelectorAll("[data-dialog-id], [data-dialog-close]");e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e},g=function(e){var t=h(e.target);if(t){var n=t.getAttribute("data-dialog-id");return n?document.querySelector("#"+n):v(e.target)}},v=function(e){for(var t,n=document.querySelectorAll(".dialog");e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e&&e.classList.contains("active"))return e},m=function(e){for(var t=u.length-1;t>=0;t--)if(u[t].dialog.id===e){var n=u[t];return n.index=t,n}return!1},y=0,b=function(e,t,n,i,a,o){t="string"==typeof t?"<p>"+t+"</p>":"";var r=typeof n;n="string"===r?n:e,i="boolean"!=typeof i||i,a="string"==typeof a?a:"Ok",o="string"==typeof o?o:"Cancel";var s="auto-gen-"+e+"-"+y++,l=document.createElement("div");l.setAttribute("class","dialog"),l.setAttribute("data-cancelable",i),l.setAttribute("data-auto","true"),l.id=s;var c=void 0===r?"":"<h3>"+n+"</h3>",d='<li><a class="btn btn-flat btn-cancel" data-dialog-close="true">'+o+"</a></li>",u="",f="";"alert"===e?d="":"prompt"===e?u='<input type="text" placeholder="">':"passPrompt"===e?u='<input type="password" placeholder="Password">':"indicator"===e&&(t="",f='<div class="circle-progress active padded-bottom"><div class="spinner"></div></div>');var p="indicator"===e?"":'<ul class="buttons">'+d+'<li><a class="btn btn-flat primary btn-confirm" data-dialog-close="true">'+a+"</a></li></ul>",h='<div class="content"><div class="padded-full">'+c+t+u+f+"</div></div>"+p;return l.innerHTML=h,document.body.appendChild(l),l};document.on(t.event.start,function(e){if(u.length>0){var t=u[u.length-1],n=v(e.target);n||"false"!==t.dialog.getAttribute("data-cancelable")&&(r(t.dialog),"function"==typeof t.cancelCallback&&t.cancelCallback()),n&&n!==t.dialog&&n.id!==t.dialog.id&&r(t.dialog)}}),document.on("tap",function(e){var t=h(e.target),n=null;t&&(n=g(e),d=t,n&&(n.classList.contains("active")?r(n):o(n)))}),document.on("keypress",function(e){if(u.length>0&&(13==e.which||13==e.keyCode)){var t=u[u.length-1],n=t.dialog.querySelector(".btn-confirm");return n&&"undefined"!=typeof n.fireConfirm&&n.fireConfirm(),r(t.dialog),!1}return!0}),t.dialog=function(e){if("undefined"==typeof e)return{alert:function(e,t,n,i){var a=b("alert",e,t,n,i);return o(a),{on:function(e,t){s(a,e,t)}}},confirm:function(e,t,n,i,a){var r=b("confirm",e,t,n,i,a);return o(r),{on:function(e,t){s(r,e,t)}}},prompt:function(e,t,n,i,a){var r=b("prompt",e,t,n,i,a);return o(r),{on:function(e,t){s(r,e,t)}}},passPrompt:function(e,t,n,i,a){var r=b("passPrompt",e,t,n,i,a);return o(r),{on:function(e,t){s(r,e,t)}}},indicator:function(e,t){var n=b("indicator","",e,t);return o(n),{on:function(e,t){return s(n,e,t),this},open:function(){return o(n),this},close:function(){return r(n),this}}}};var t="string"==typeof e?document.querySelector(e):e;if(null===t)throw new Error("The following element "+e+" does not exists");return{open:function(){return o(t),this},close:function(){return r(t),this},on:function(e,n){return s(t,e,n),this},isActive:function(){return!!t.classList.contains("active")}}},t.dialogUtil={closeActive:c},e.phonon=t,"object"==typeof exports?module.exports=t.dialog:"function"==typeof define&&define.amd&&define(function(){return t.dialog})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t){"use strict";function n(e){if(!r(e))throw new Error("The page must be a DOMElement not a "+typeof e);var t=e.querySelector(".content");t?t.on("scroll",o,!1):console.error("The given page does not contain any .content node")}var i=0,a=0,o=function(e){e=e.originalEvent||e;var t=e.target;a=t.offsetHeight;var n=document.querySelectorAll(".app-active .floating-action");if(n){for(var o=n.length,r=o-1;r>=0;r--){var s=n[r];i>t.scrollTop?s.classList.contains("active")||s.classList.add("active"):s.classList.contains("active")&&s.classList.remove("active")}i=t.scrollTop}},r=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName};document.on("pagecreated",function(e){for(var t=document.querySelectorAll(e.detail.page+" .floating-action"),i=t.length-1;i>=0;i--)for(var a=document.querySelectorAll(".app-page"),o=a.length-1;o>=0;o--){var r=a[o];if(r.tagName.toLowerCase()===e.detail.page){n(r);break}}})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t){"use strict";function n(e){e.on("focus",i),e.on("blur",a)}function i(e){e.target.parentNode.classList.add("input-filled")}function a(e){""===e.target.value.trim()&&e.target.parentNode.classList.remove("input-filled")}function o(e){""===e.value.trim()||e.parentNode.classList.contains("input-filled")||e.parentNode.classList.add("input-filled")}function r(e){n(e),o(e)}document.on("pagecreated",function(e){for(var t=document.querySelector(e.detail.page),n=t.querySelectorAll("input.with-label"),i=n.length-1;i>=0;i--)r(n[i])}),document.on("pageopened",function(e){for(var t=document.querySelector(e.detail.page),n=t.querySelectorAll("input.with-label"),i=n.length-1;i>=0;i--)o(n[i])}),t.forms={update:r},e.phonon=t,"object"==typeof exports?module.exports=t.popover:"function"==typeof define&&define.amd&&define(function(){return t.popover})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t){"use strict";function n(){var i=this,a=i.getAttribute("data-timeout");if(a){if(isNaN(parseInt(a,10)))return void console.error("Attribute data-timeout must be a number");var o=i.querySelector(".progress");if(o){o.classList.contains("active")||o.classList.add("active");var r=o.querySelector(".determinate");r.style.width="0",r.style.webkitTransitionDuration=a+"ms",r.style.MozTransitionDuration=a+"ms",r.style.msTransitionDuration=a+"ms",r.style.OTransitionDuration=a+"ms",r.style.transitionDuration=a+"ms",e.setTimeout(function(){r.style.width="100%"},10)}e.setTimeout(function(){s(i)},parseInt(a,10)+10)}i.off(t.event.transitionEnd,n,!1)}function i(){var n=this;n.style.zIndex=28;var r=n.clientHeight;n.style.webkitTransform="translateY("+r+"px)",n.style.MozTransform="translateY("+r+"px)",n.style.msTransform="translateY("+r+"px)",n.style.OTransform="translateY("+r+"px)",n.style.transform="translateY("+r+"px)";var s=a(n);s>=0&&c.splice(s,1);for(var l=c.length-1;l>=0;l--){var d=l*r;c[l].style.webkitTransform="translateY(-"+d+"px)",c[l].style.MozTransform="translateY(-"+d+"px)",c[l].style.msTransform="translateY(-"+d+"px)",c[l].style.OTransform="translateY(-"+d+"px)",c[l].style.transform="translateY(-"+d+"px)",o()&&(c[l].style.bottom=d+"px")}var u=n.querySelector(".determinate");u&&(u.style.width="0",u.style.webkitTransitionDuration="0ms",u.style.MozTransitionDuration="0ms",u.style.msTransitionDuration="0ms",u.style.OTransitionDuration="0ms",u.style.transitionDuration="0ms"),n.off(t.event.transitionEnd,i,!1),"true"===n.getAttribute("data-autodestroy")&&e.setTimeout(function(){document.body.removeChild(n)},500)}function a(e){for(var t=c.length-1;t>=0;t--)if(c[t]===e)return t;return-1}function o(){var e=parseFloat(t.device.osVersion);return t.device.os===t.device.ANDROID&&!isNaN(e)&&e<4.4}function r(i){if(i.classList.contains("show"))return!1;e.setTimeout(function(){i.classList.add("show")},10),i.style.zIndex=28+c.length;var a=0;if(c.length>0){var r=c[c.length-1];a=c.length*r.clientHeight}i.style.webkitTransform="translateY(-"+a+"px)",i.style.MozTransform="translateY(-"+a+"px)",i.style.msTransform="translateY(-"+a+"px)",i.style.OTransform="translateY(-"+a+"px)",i.style.transform="translateY(-"+a+"px)",o()&&(i.style.bottom=a+"px"),c.push(i);var s=document.querySelector(".app-active .floating-action");s&&(s.style.webkitTransform="translateY(-48px)",s.style.MozTransform="translateY(-48px)",s.style.msTransform="translateY(-48px)",s.style.OTransform="translateY(-48px)",s.style.transform="translateY(-48px)"),i.on(t.event.transitionEnd,n,!1)}function s(e){if(e.classList.contains("show")){e.classList.remove("show"),e.on(t.event.transitionEnd,i,!1);var n=document.querySelector(".app-active .floating-action");n&&(n.style.webkitTransform="translateY(0)",n.style.MozTransform="translateY(0)",n.style.msTransform="translateY(0)",n.style.OTransform="translateY(0)",n.style.transform="translateY(0)")}}function l(e,t){if("string"!=typeof t)throw new Error("color must be a string, "+typeof t+" given");e.classList.add(t);var n=e.querySelector(".progress");n&&n.classList.add(t)}var c=[],d=function(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("notification"))return e},u=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},f=function(e,t,n,i){"string"!=typeof e&&(e=""),t="number"==typeof t?t:5e3,i="string"==typeof i?i:"CANCEL";var a='<div class="progress"><div class="determinate"></div></div>',o=n===!0?'<button class="btn pull-right" data-hide-notif="true">'+i+"</button>":"",r=document.createElement("div");return r.setAttribute("class","notification"),r.setAttribute("data-autodestroy","true"),t&&r.setAttribute("data-timeout",t),r.id=u(),r.innerHTML=a+o+e,document.body.appendChild(r),document.querySelector("#"+r.id)};document.on("tap",function(e){var t=e.target;if("true"===t.getAttribute("data-hide-notif")){var n=d(t);n&&s(n)}}),t.notif=function(e,t,n,i){if(arguments.length>1){var a=f(e,t,n,i);return r(a),{element:a,setColor:function(e){l(a,e)}}}var o="string"==typeof e?document.querySelector(e):e;if(null===o)throw new Error("The notification with ID "+e+" does not exist");return{element:o,show:function(){return r(o),this},hide:function(){return s(o),this},setColor:function(e){return l(o,e),this}}},e.phonon=t,"object"==typeof exports?module.exports=t.notif:"function"==typeof define&&define.amd&&define(function(){return t.notif})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t,n,i){"use strict";function a(){t.body.removeChild(this);var e=f(this.getAttribute("data-backdrop-for"));l.splice(e.index,1),this.off(n.event.transitionEnd,a,!1)}function o(n){if(!n.classList.contains("active")){n.style.display="block",e.setTimeout(function(){n.classList.add("active")},10);var i=c(n.getAttribute("id"));t.body.appendChild(i),l.push({panel:n,backdrop:i})}}function r(e){if(e.classList.contains("active")){e.classList.remove("active"),e.classList.add("panel-closing");var t=function(){e.classList.remove("panel-closing"),e.style.display="none",e.off(n.event.transitionEnd,t)};e.on(n.event.transitionEnd,t);var i=f(e.getAttribute("id"));i&&(i.backdrop.classList.add("fadeout"),i.backdrop.on(n.event.transitionEnd,a,!1))}}function s(){var e=l.length>0;return e&&r(l[l.length-1].panel),e}var l=[],c=function(e){var n=t.createElement("div");return n.classList.add("backdrop-panel"),n.setAttribute("data-backdrop-for",e),n},d=function(e){for(var n,i=t.querySelectorAll("[data-panel-id], [data-panel-close]");e&&e!==t;e=e.parentNode)for(n=i.length;n--;)if(i[n]===e)return e},u=function(e){var n=d(e.target);if(n){var i=n.getAttribute("data-panel-id");return i?t.querySelector("#"+i):p(e.target)}},f=function(e){for(var t=l.length,n=0;n<t;n++)if(l[n].panel.getAttribute("id")===e){var i=l[n];return i.index=n,i}return null},p=function(e){for(var n,i=t.querySelectorAll(".panel, .panel-full");e&&e!==t;e=e.parentNode)for(n=i.length;n--;)if(i[n]===e&&e.classList.contains("active"))return e},h=function(e){for(;e&&e!==t;e=e.parentNode)if(e.classList.contains("dialog")||e.classList.contains("backdrop-dialog")||e.classList.contains("popover")||e.classList.contains("backdrop-popover"))return!0;return!1};t.on(n.event.start,function(e){if(e=e.originalEvent||e,!(e.target.classList.contains("notification")||e.parentNode&&e.target.parentNode.classList.contains("notification"))&&!h(e.target)&&l.length>0){var t=l[l.length-1].panel,n=p(e.target);n||r(t),n&&n!==t&&n.id!==t.id&&r(t)}}),t.on(n.event.tap,function(e){if(!(e.target.classList.contains("notification")||e.parentNode&&e.target.parentNode.classList.contains("notification")||h(e.target))){var t=d(e.target),n=null;if(t&&(n=u(e),n&&(n.classList.contains("active")?r(n):o(n))),n=p(e.target),!n&&!t&&l.length>0){var i=l[l.length-1].panel;p(e.target);r(i)}}}),n.panel=function(e){var n="string"==typeof e?t.querySelector(e):e;if(null===n)throw new Error("The panel with ID "+e+" does not exist");return{open:function(){o(n)},close:function(){r(n)}}},n.panelUtil={closeActive:s},e.phonon=n,"object"==typeof exports?module.exports=n.panel:"function"==typeof define&&define.amd&&define(function(){return n.panel})}(window,document,window.phonon||{}),function(e,t){"use strict";function n(){var e=document.querySelector(".app-active");null!==e.querySelector("div.backdrop-popover")&&e.removeChild(m),g.style.visibility="hidden",g.style.display="none","true"===g.getAttribute("data-virtual")&&document.body.removeChild(g),g=null}function i(){var e=document.createElement("div");return e.classList.add("popover"),e.setAttribute("id",r()),e.setAttribute("data-virtual","true"),document.body.appendChild(e),document.body.lastChild}function a(e){var t="string"==typeof e?e:e.text,n="string"==typeof e?e:e.value;return'<li><a class="padded-list" data-value="'+n+'">'+t+"</a></li>"}function o(e,t,n){if(!(t instanceof Array))throw new Error("The list of the popover must be an array, "+typeof t+" given");var i='<ul class="list">',o=a;"function"==typeof n&&(o=n);for(var r=0;r<t.length;r++)i+=o(t[r]);i+="</ul>",e.innerHTML=i}function r(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function s(t){return!t.classList.contains("active")&&(v=!0,g=t,t.style.display="block",e.setTimeout(function(){t.style.visibility="visible",t.classList.add("active")},10),t.querySelector("ul").scrollTop=0,document.querySelector(".app-page.app-active").appendChild(m),!0)}function l(e,t){var n=document.querySelector(".app-page.app-active");if(t="string"==typeof t?n.querySelector(t):t,null===t)throw new Error("The trigger for the popover does not exists");if(s(e)){var i=t.getBoundingClientRect();e.style.width=t.clientWidth+"px",e.style.top=i.top+"px",e.style.left=i.left+"px"}}function c(t,n){if("undefined"==typeof n&&(n="left"),s(t)){var i=document.querySelector(".app-page.app-active"),a=i.currentStyle||e.getComputedStyle(i);if("title"===n||"title-left"===n){var o=i.querySelector(".header-bar");t.style.top=o.offsetHeight+"px","title"===n?t.style.left=o.clientWidth/2+parseInt(a.marginLeft)-t.clientWidth/2+"px":t.style.left=16+parseInt(a.marginLeft)+"px"}else"left"!==n&&"right"!==n||(t.style.top="12px","left"===n?t.style.left=16+parseInt(a.marginLeft)+"px":(t.style.left="auto",t.style.right="16px"))}}function d(t){v=!1,g=t,t.classList.contains("active")&&(t.classList.toggle("active"),e.setTimeout(function(){n()},250))}function u(){var e=!!g;return e&&d(g),e}function f(e,t,n){var t="string"==typeof t?document.querySelector(t):t;if(null===t)throw new Error("The button does not exists");var i=e.getAttribute("id");t.setAttribute("data-popover-id",i),n===!0&&t.setAttribute("data-autobind",!0)}function p(e){return{setList:function(t,n){return o(e,t,n),this},open:function(t){return c(e,t),this},openFrom:function(t){return l(e,t),this},close:function(){return d(e),this},onItemChanged:function(t){return y.push({id:e.getAttribute("id"),callback:t}),this},attachButton:function(t,n){return f(e,t,n),this}}}var h=!1,g=null,v=!1,m=document.createElement("div");m.classList.add("backdrop-popover");var y=[],b=function(e){for(var t={target:null,id:null,direction:null};e&&e!==document;e=e.parentNode){var n=e.getAttribute("data-popover-id");if(null!==n){t.target=e,t.id=n,t.direction="left",!e.classList.contains("title")&&e.classList.contains("pull-left")?t.direction="left":!e.classList.contains("title")&&e.parentNode.classList.contains("pull-left")?t.direction="left":e.classList.contains("title")&&e.classList.contains("pull-left")?t.direction="title-left":e.parentNode&&e.parentNode.classList.contains("pull-left")&&e.classList.contains("title")?t.direction="title-left":e.classList.contains("pull-right")?t.direction="right":e.parentNode&&e.parentNode.classList.contains("pull-right")?t.direction="right":e.classList.contains("center")?t.direction="title":e.parentNode&&e.parentNode.classList.contains("center")?t.direction="title":t.direction="button";break}}return t},w=function(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("popover")&&e.classList.contains("active"))return e;return!1},x=function(e){for(;e&&e!==document;e=e.parentNode)if(e===g)return!0;return!1};document.on(t.event.start,function(e){e=e.originalEvent||e,!w(e.target)&&v&&d(g),h=!1}),document.on(t.event.move,function(e){e=e.originalEvent||e,h=!0}),document.on(t.event.end,function(e){var t=e.target,n=b(t),i=document.querySelector("#"+n.id);if(n.target&&i&&(i.classList.contains("active")&&!h?d(i):"button"===n.direction?l(i,n.target):c(i,n.direction)),null!==t.parentNode&&x(t)&&!h){d(g);var a={text:t.textContent,value:t.getAttribute("data-value"),target:e.target};e=new CustomEvent("itemchanged",{detail:a,bubbles:!0,cancelable:!0});for(var o=document.querySelectorAll('[data-popover-id="'+g.id+'"]'),r=o.length-1;r>=0;r--){var n=o[r];"true"===n.getAttribute("data-autobind")&&("textContent"in n?n.textContent=t.textContent:n.innerText=t.innerText)}g.dispatchEvent(e);for(var r=0;r<y.length;r++){var s=y[r];s.id===g.getAttribute("id")&&s.callback(a)}}}),t.popover=function(e){if("string"==typeof e&&"_caller"===e)return p();if("undefined"==typeof e)return p(i());var t="string"==typeof e?document.querySelector(e):e;if(null===t)throw new Error("The popover with ID "+e+" does not exists");return p(t)},t.popoverUtil={closeActive:u},e.phonon=t,"object"==typeof exports?module.exports=t.popover:"function"==typeof define&&define.amd&&define(function(){return t.popover})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t){"use strict";function n(e){e.classList.contains("active")||(e.style.visibility="visible",e.classList.add("active"))}function i(){this.style.visibility="hidden",this.off(t.event.transitionEnd,i)}function a(e){e.classList.contains("active")&&(e.classList.remove("active"),e.on(t.event.transitionEnd,i))}t.preloader=function(e){var t="string"==typeof e?document.querySelector(e):e;if(null===t)throw new Error("The preloader with ID "+e+" does not exist");return{show:function(){n(t)},hide:function(){a(t)}}},e.phonon=t,"object"==typeof exports?module.exports=t.preloader:"function"==typeof define&&define.amd&&define(function(){return t.preloader})}("undefined"!=typeof window?window:this,window.phonon||{}),function(e,t){"use strict";var n=null,i=i||function(i){var a={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},o={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},r={},s={hasTouch:"ontouchstart"in t.documentElement||e.navigator.msPointerEnabled,eventType:function(e){var t={down:s.hasTouch?"touchstart":"mousedown",move:s.hasTouch?"touchmove":"mousemove",up:s.hasTouch?"touchend":"mouseup",out:s.hasTouch?"touchcancel":"mouseout"};return t[e]},page:function(e,t){return s.hasTouch&&t.touches.length&&t.touches[0]?t.touches[0]["page"+e]:t["page"+e]},klass:{has:function(e,t){return e.className.indexOf(t)!==-1},add:function(e,t){!s.klass.has(e,t)&&a.addBodyClasses&&(e.className+=" "+t)},remove:function(e,t){a.addBodyClasses&&(e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(e){if("function"==typeof r[e])return r[e].call()},createBackdrop:function(){if(!n){var e=document.createElement("div");e.classList.add("backdrop-panel"),n=e,a.element.appendChild(n)}},removeBackdrop:function(){if(n){var e=function(){n&&(n.classList.remove("fadeout"),a.element.removeChild(n),n.off(phonon.event.transitionEnd,e),n=null)};n.classList.add("fadeout"),n.on(phonon.event.transitionEnd,e)}},vendor:function(){var e,n=t.createElement("div"),i="webkit Moz O ms".split(" ");for(e in i)if("undefined"!=typeof n.style[i[e]+"Transition"])return i[e]},transitionCallback:function(){return"Moz"===o.vendor||"ms"===o.vendor?"transitionend":o.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof a.element.style[o.vendor+"Transform"]},deepExtend:function(e,t){var n;for(n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},s.deepExtend(e[n],t[n])):e[n]=t[n];return e},angleOfDrag:function(e,t){var n,i;return i=Math.atan2(-(o.startDragY-t),o.startDragX-e),i<0&&(i+=2*Math.PI),n=Math.floor(i*(180/Math.PI)-180),n<0&&n>-180&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):void 0},removeEvent:function(e,t,n){return e.addEventListener?e.removeEventListener(t,n,!1):e.attachEvent?e.detachEvent("on"+t,n):void 0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},parentUntil:function(e,t){for(var n="string"==typeof t;e.parentNode;){if(n&&e.getAttribute&&e.getAttribute(t))return e;if(!n&&e===t)return e;e=e.parentNode}return null}},l={translate:{get:{matrix:function(t){if(s.canTransform()){var n=e.getComputedStyle(a.element)[o.vendor+"Transform"].match(/\((.*)\)/),i=8;return n?(n=n[1].split(","),16===n.length&&(t+=i),parseInt(n[t],10)):0}return parseInt(a.element.style.left,10)}},easeCallback:function(){a.element.style[o.vendor+"Transition"]="",o.translation=l.translate.get.matrix(4),o.easing=!1,clearInterval(o.animatingInterval),0===o.easingTo&&(s.klass.remove(t.body,"snapjs-right"),s.klass.remove(t.body,"snapjs-left")),s.dispatchEvent("animated"),s.events.removeEvent(a.element,s.transitionCallback(),l.translate.easeCallback)},easeTo:function(e){0===e&&s.removeBackdrop(),s.canTransform()?(o.easing=!0,o.easingTo=e,a.element.style[o.vendor+"Transition"]="all "+a.transitionSpeed+"s "+a.easing,o.animatingInterval=setInterval(function(){s.dispatchEvent("animating")},1),s.events.addEvent(a.element,s.transitionCallback(),l.translate.easeCallback),l.translate.x(e)):(o.translation=e,l.translate.x(e)),0===e&&(a.element.style[o.vendor+"Transform"]="")},x:function(n){if(!("left"===a.disable&&n>0||"right"===a.disable&&n<0))if(a.hyperextensible||(n===a.maxPosition||n>a.maxPosition?n=a.maxPosition:(n===a.minPosition||n<a.minPosition)&&(n=a.minPosition)),n=parseInt(n,10),isNaN(n)&&(n=0),s.canTransform()){var i="translate3d("+n+"px, 0,0)";a.element.style[o.vendor+"Transform"]=i}else a.element.style.width=(e.innerWidth||t.documentElement.clientWidth)+"px",a.element.style.left=n+"px",a.element.style.right=""}},drag:{listen:function(){o.translation=0,o.easing=!1,s.events.addEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.addEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.addEvent(a.element,s.eventType("up"),l.drag.endDrag);
},stopListening:function(){s.events.removeEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.removeEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.removeEvent(a.element,s.eventType("up"),l.drag.endDrag)},startDrag:function(e){var t=e.target?e.target:e.srcElement,n=s.parentUntil(t,"data-snap-ignore");if(n)return void s.dispatchEvent("ignore");if(a.dragger){var i=s.parentUntil(t,a.dragger);if(!i&&o.translation!==a.minPosition&&o.translation!==a.maxPosition)return}s.dispatchEvent("start"),a.element.style[o.vendor+"Transition"]="",o.isDragging=!0,o.hasIntent=null,o.intentChecked=!1,o.startDragX=s.page("X",e),o.startDragY=s.page("Y",e),o.dragWatchers={current:0,last:0,hold:0,state:""},o.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(e){if(o.isDragging&&a.touchToDrag){var n,i=s.page("X",e),r=s.page("Y",e),c=o.translation,d=l.translate.get.matrix(4),u=i-o.startDragX,f=d>0,p=u;if(o.intentChecked&&!o.hasIntent)return;if(a.addBodyClasses&&(d>0?(s.klass.add(t.body,"snapjs-left"),s.klass.remove(t.body,"snapjs-right")):d<0&&(s.klass.add(t.body,"snapjs-right"),s.klass.remove(t.body,"snapjs-left"))),o.hasIntent===!1||null===o.hasIntent){var h=s.angleOfDrag(i,r),g=h>=0&&h<=a.slideIntent||h<=360&&h>360-a.slideIntent,v=h>=180&&h<=180+a.slideIntent||h<=180&&h>=180-a.slideIntent;v||g?o.hasIntent=!0:o.hasIntent=!1,o.intentChecked=!0}if(a.minDragDistance>=Math.abs(i-o.startDragX)||o.hasIntent===!1)return;s.events.prevent(e),s.dispatchEvent("drag"),o.dragWatchers.current=i,o.dragWatchers.last>i?("left"!==o.dragWatchers.state&&(o.dragWatchers.state="left",o.dragWatchers.hold=i),o.dragWatchers.last=i):o.dragWatchers.last<i&&("right"!==o.dragWatchers.state&&(o.dragWatchers.state="right",o.dragWatchers.hold=i),o.dragWatchers.last=i),f?(a.maxPosition<d&&(n=(d-a.maxPosition)*a.resistance,p=u-n),o.simpleStates={opening:"left",towards:o.dragWatchers.state,hyperExtending:a.maxPosition<d,halfway:d>a.maxPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.maxPosition*100}}):(a.minPosition>d&&(n=(d-a.minPosition)*a.resistance,p=u-n),o.simpleStates={opening:"right",towards:o.dragWatchers.state,hyperExtending:a.minPosition>d,halfway:d<a.minPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.minPosition*100}}),l.translate.x(p+c)}p>5&&s.createBackdrop()},endDrag:function(e){if(o.isDragging){s.dispatchEvent("end");var t=l.translate.get.matrix(4);if(0===o.dragWatchers.current&&0!==t&&a.tapToClose)return s.dispatchEvent("close"),s.events.prevent(e),l.translate.easeTo(0),o.isDragging=!1,void(o.startDragX=0);"left"===o.simpleStates.opening?o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"left"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"right"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.maxPosition):l.translate.easeTo(0):"right"===o.simpleStates.opening&&(o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"right"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"left"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.minPosition):l.translate.easeTo(0)),o.isDragging=!1,o.startDragX=s.page("X",e)}}}},c=function(e){e.element&&(s.deepExtend(a,e),o.vendor=s.vendor(),l.drag.listen())};this.open=function(e){s.createBackdrop(),s.dispatchEvent("open"),s.klass.remove(t.body,"snapjs-expand-left"),s.klass.remove(t.body,"snapjs-expand-right"),"left"===e?(o.simpleStates.opening="left",o.simpleStates.towards="right",s.klass.add(t.body,"snapjs-left"),s.klass.remove(t.body,"snapjs-right"),l.translate.easeTo(a.maxPosition)):"right"===e&&(o.simpleStates.opening="right",o.simpleStates.towards="left",s.klass.remove(t.body,"snapjs-left"),s.klass.add(t.body,"snapjs-right"),l.translate.easeTo(a.minPosition))},this.close=function(){s.dispatchEvent("close"),l.translate.easeTo(0)},this.expand=function(n){var i=e.innerWidth||t.documentElement.clientWidth;"left"===n?(s.dispatchEvent("expandLeft"),s.klass.add(t.body,"snapjs-expand-left"),s.klass.remove(t.body,"snapjs-expand-right")):(s.dispatchEvent("expandRight"),s.klass.add(t.body,"snapjs-expand-right"),s.klass.remove(t.body,"snapjs-expand-left"),i*=-1),l.translate.easeTo(i)},this.on=function(e,t){return r[e]=t,this},this.off=function(e){r[e]&&(r[e]=!1)},this.enable=function(){s.dispatchEvent("enable"),l.drag.listen()},this.disable=function(){s.dispatchEvent("disable"),l.drag.stopListening()},this.settings=function(e){s.deepExtend(a,e)},this.state=function(){var e,t=l.translate.get.matrix(4);return e=t===a.maxPosition?"left":t===a.minPosition?"right":"closed",{state:e,info:o.simpleStates}},c(i)};"undefined"!=typeof module&&module.exports&&(module.exports=i),"undefined"==typeof ender&&(this.Snap=i),"function"==typeof define&&define.amd&&define("snap",[],function(){return i})}.call(this,window,document),function(e,t){"use strict";function n(e){for(var t=c.length-1;t>=0;t--)if(c[t].el.id===e)return c[t];return null}function i(e){for(var n="undefined"!=typeof e?e.detail.page:t.navigator().currentPage,i=document.querySelector(n),a=i.querySelector('[data-tab-contents="true"]'),o=c.length-1;o>=0;o--){var r=c[o],s=r.el.getAttribute("data-expose-aside");if(r.pages.indexOf(n)===-1)r.el.style.display="none",r.el.style.visibility="hidden";else{var d=r.nodrag.indexOf(n)>=0;r.snapper.settings({element:i}),r.el.style.display="block",r.el.style.visibility="visible",a&&c[o].snapper.disable(),"left"!==s&&"right"!==s||i.classList.contains("expose-aside-"+s)||i.classList.add("expose-aside-"+s),l||(a||"left"===s||"right"===s?(r.snapper.settings({touchToDrag:!1}),r.snapper.disable()):(r.snapper.settings({touchToDrag:!d}),r.snapper.enable())),!a&&l&&(r.snapper.settings({touchToDrag:!d}),r.snapper.enable())}}}function a(){var t=l;l=!matchMedia("only screen and (min-width: 641px)").matches,t!==l&&(e.setTimeout(function(){for(var e=c.length-1;e>=0;e--){var t=c[e];t.snapper.settings({maxPosition:t.el.clientWidth,minPosition:-t.el.clientWidth})}},500),i())}function o(e){d=e,e.snapper.open(e.direction),document.on(t.event.end,u)}function r(e){e.snapper.close(),d=null,document.off(t.event.end,u)}function s(){for(var e=t.navigator().currentPage,n=c.length-1;n>=0;n--){var i=c[n],a=i.el.getAttribute("data-expose-aside");if(i.pages.indexOf(e)!==-1){var o=i.snapper.state();if("closed"!==o.state){if(l)return r(i),!0;if(!l&&"left"!==a&&"right"!==a)return r(i),!0}return!1}}return!1}var l=!matchMedia("only screen and (min-width: 641px)").matches,c=[],d=null;t.onReady(function(){for(var e=document.querySelectorAll(".side-panel"),t=e.length-1;t>=0;t--){for(var n=e[t],i=n.getAttribute("data-disable"),a=n.getAttribute("data-page"),o=n.getAttribute("data-nodrag"),r=[],s=a.split(","),l=0,d=s.length;l<d;l++){var u=s[l].trim();if(0==l){var f=document.querySelector(u);f||console.error("SidePanel issue: The page: "+u+" does not exist. Please see data-page attribute.")}r.push(u)}var p=[],h=[];o&&(h=o.split(","));for(var l=0,d=h.length;l<d;l++){var u=h[l].trim();if(0==l){var f=document.querySelector(u);f?r.indexOf(u)===-1&&console.error("SidePanel issue: The page: "+u+" is not panel enabled. Please see data-page attribute."):console.error("SidePanel issue: The page: "+u+" does not exist. Please see data-page attribute.")}p.push(u)}var g={element:f,disable:null===i?"none":i,hyperextensible:!1,touchToDrag:!1,maxPosition:n.clientWidth,minPosition:-n.clientWidth},v=new Snap(g);c.push({snapper:v,el:n,pages:r,nodrag:p,direction:n.classList.contains("side-panel-left")?"left":"right"})}}),document.on(t.event.tap,function(e){var t=e.target,i=t.getAttribute("data-side-panel-id"),a=t.getAttribute("data-side-panel-close");if("true"!==a){if(null!==i){var s=n(i);if(s){var c=s.snapper.state(),u=s.el.getAttribute("data-expose-aside");"closed"===c.state?("left"!==u&&"right"!==u||l)&&o(s):("left"!==u&&"right"!==u||l)&&r(s)}}}else if(d)r(d);else if(null!==i){var s=n(i);s&&r(s)}});var u=function(e){var t=e.target,n=!1;if(null!==d){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("side-panel")){n=!0;break}d&&!n&&(r(d),d=null)}};t.sidePanel=function(e){e=e.replace("#","");var t=n(e);if(null===t)throw new Error("The side panel with id ["+e+"] does not exists");return{open:function(){o(t)},close:function(){r(t)}}},t.sidePanelUtil={closeActive:s},e.on("resize",a),document.on("pageopened",i)}("undefined"!=typeof window?window:this,window.phonon||{}),function(e){"use strict";function t(t){function a(){}function o(){return!1}function r(e,t){var n,i;for(n in t)if(t.hasOwnProperty(n)){switch(i=t[n],n){case"height":case"width":case"marginLeft":case"marginTop":i+="px"}e.style[n]=i}return e}function s(e,t){var n;for(n in t)e[n]=t[n];return e}function l(e,t){return function(){return e.apply(t,Array.prototype.slice.call(arguments))}}function c(e,n){var i;return i=t?t(n).find("."+e):Array.prototype.slice.call(n.getElementsByClassName(e))}function d(e,n,i,a,o){var s={};s[n]=i,t?t(e).animate(s,a,o):r(e,s)}function u(e){var t=e.touches,n=t&&t.length?t:e.changedTouches;return{x:m?n[0].pageX:e.pageX,y:m?n[0].pageY:e.pageY}}function f(e,t){var i=s({},v);for(this.settings=s(i,t),this.container=e,this.pageContainer=n.createElement("div"),this.scrollBorder={x:0,y:0},this.page=0,this.preventScroll=!1,this.pageCssProperties={margin:0},this._onStart=l(this._onStart,this),this._onMove=l(this._onMove,this),this._onEnd=l(this._onEnd,this),this._onKeydown=l(this._onKeydown,this),this._sizePages=l(this._sizePages,this),this._afterScrollTransform=l(this._afterScrollTransform,this);e.firstChild;)this.pageContainer.appendChild(e.firstChild);e.appendChild(this.pageContainer),this._scroll=k?this._scrollWithTransform:this._scrollWithoutTransform,this._animateScroll=k?this._animateScrollWithTransform:this._animateScrollWithoutTransform,r(e,S),setTimeout(l(function(){this.updateInstance(t),this.settings.preventDrag||this._observe(),this.settings.afterInitialize.call(this)},this),10)}function p(e,n,i){t?t(e).on(n,i):e.addEventListener(n,i,!1)}function h(e,n,i){t?t(e).off(n,i):e.removeEventListener(n,i,!1)}function g(){if(!e.getComputedStyle)return!1;var t,n=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var a in i)void 0!==n.style[a]&&(n.style[a]="translate3d(1px,1px,1px)",t=e.getComputedStyle(n).getPropertyValue(i[a]));return document.body.removeChild(n),void 0!==t&&t.length>0&&"none"!==t}var v={pageClass:"dragend-page",direction:"horizontal",minDragDistance:"40",onSwipeStart:a,onSwipeEnd:a,onDragStart:a,onDrag:a,onDragEnd:a,afterInitialize:a,keyboardNavigation:!1,stopPropagation:!1,itemsInPage:1,scribe:0,borderBetweenPages:0,duration:300,preventDrag:!1},m="ontouchstart"in i,y=m?"touchstart":"mousedown",b=m?"touchmove":"mousemove",w=m?"touchend":"mouseup",x={37:"left",38:"up",39:"right",40:"down"},T={pages:"No pages found"},S={overflow:"hidden",padding:0},E=function(){var e=n.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),i=t.length;return function(n){if(n in e.style)return!0;for(n=n.replace(/^[a-z]/,function(e){return e.toUpperCase()});i--;)if(t[i]+n in e.style)return!0;return!1}}(),k=E("transform");return s(f.prototype,{_checkOverscroll:function(e,t,n){var i={x:t,y:n,overscroll:!0};switch(e){case"right":if(!this.scrollBorder.x)return i.x=Math.round((t-this.scrollBorder.x)/5),i;break;case"left":if((this.pagesCount-1)*this.pageDimentions.width<=this.scrollBorder.x)return i.x=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.width+this.settings.borderBetweenPages))+t/5),i;break;case"down":if(!this.scrollBorder.y)return i.y=Math.round((n-this.scrollBorder.y)/5),i;break;case"up":if((this.pagesCount-1)*this.pageDimentions.height<=this.scrollBorder.y)return i.y=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.height+this.settings.borderBetweenPages))+n/5),i}return{x:t-this.scrollBorder.x,y:n-this.scrollBorder.y,overscroll:!1}},_xDown:0,_yDown:0,_observe:function(){p(this.container,y,this._onStart),this.container.onselectstart=o,this.container.ondragstart=o,this.settings.keyboardNavigation&&p(n.body,"keydown",this._onKeydown),p(i,"resize",this._sizePages)},_onStart:function(e){e=e.originalEvent||e,this.settings.stopPropagation&&e.stopPropagation(),this._xDown=e.touches?e.touches[0].clientX:e.clientX,this._yDown=e.touches?e.touches[0].clientY:e.clientY,p(n.body,b,this._onMove),p(n.body,w,this._onEnd),this.startCoords=u(e),this.settings.onDragStart.call(this,e)},_onMove:function(e){if(e=e.originalEvent||e,!(e.touches&&e.touches.length>1||e.scale&&1!==e.scale)){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,i=this._xDown-t,a=this._yDown-n;Math.abs(i)>Math.abs(a)&&(e.preventDefault(),this.settings.stopPropagation&&e.stopPropagation());var o=this._parseEvent(e),r=this._checkOverscroll(o.direction,-o.distanceX,-o.distanceY);Math.abs(i)<Math.abs(a)||0===this.page&&"right"===o.direction||this.page+1===this.pagesCount&&"left"===o.direction||(this.settings.onDrag.call(this,this.activeElement,o,r.overscroll,e),this.preventScroll||this._scroll(r))}},_onEnd:function(e){e=e.originalEvent||e,this.settings.stopPropagation&&e.stopPropagation();var t=this._parseEvent(e);this.startCoords={x:0,y:0},Math.abs(t.distanceX)>this.settings.minDragDistance||Math.abs(t.distanceY)>this.settings.minDragDistance?this.swipe(t.direction):(t.distanceX>0||t.distanceX>0)&&this._scrollToPage(),this.settings.onDragEnd.call(this,this.container,this.activeElement,this.page,e),h(n.body,b,this._onMove),h(n.body,w,this._onEnd)},_parseEvent:function(e){var t=u(e),n=this.startCoords.x-t.x,i=this.startCoords.y-t.y;return this._addDistanceValues(n,i)},_addDistanceValues:function(e,t){var n={distanceX:0,distanceY:0};return"horizontal"===this.settings.direction?(n.distanceX=e,n.direction=e>0?"left":"right"):(n.distanceY=t,n.direction=t>0?"up":"down"),n},_onKeydown:function(e){var t=x[e.keyCode];t&&this._scrollToPage(t)},_setHorizontalContainerCssValues:function(){s(this.pageCssProperties,{cssFloat:"left",overflowY:"auto",overflowX:"hidden",padding:0,display:"block"}),r(this.pageContainer,{overflow:"hidden",width:(this.pageDimentions.width+this.settings.borderBetweenPages)*this.pagesCount,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0,padding:0})},_setVerticalContainerCssValues:function(){s(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"}),r(this.pageContainer,{"padding-bottom":this.settings.scribe,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0})},setContainerCssValues:function(){"horizontal"===this.settings.direction?this._setHorizontalContainerCssValues():this._setVerticalContainerCssValues()},_setPageDimentions:function(){var e=this.container.offsetWidth,t=this.container.offsetHeight;"horizontal"===this.settings.direction?e-=parseInt(this.settings.scribe,10):t-=parseInt(this.settings.scribe,10),this.pageDimentions={width:e,height:t}},_sizePages:function(){var e=this.pages.length;this._setPageDimentions(),this.setContainerCssValues(),"horizontal"===this.settings.direction?s(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width/this.settings.itemsInPage}):s(this.pageCssProperties,{height:this.pageDimentions.height/this.settings.itemsInPage,width:this.pageDimentions.width});for(var t=0;t<e;t++)r(this.pages[t],this.pageCssProperties);this._jumpToPage("page",this.page)},_calcNewPage:function(e,t){var n=this.settings.borderBetweenPages,i=this.pageDimentions.height,a=this.pageDimentions.width,o=this.page;switch(e){case"up":o<this.pagesCount-1&&(this.scrollBorder.y=this.scrollBorder.y+i+n,this.page++);break;case"down":o>0&&(this.scrollBorder.y=this.scrollBorder.y-i-n,this.page--);break;case"left":o<this.pagesCount-1&&(this.scrollBorder.x=this.scrollBorder.x+a+n,this.page++);break;case"right":o>0&&(this.scrollBorder.x=this.scrollBorder.x-a-n,this.page--);break;case"page":switch(this.settings.direction){case"horizontal":this.scrollBorder.x=(a+n)*t;break;case"vertical":this.scrollBorder.y=(i+n)*t}this.page=t;break;default:this.scrollBorder.y=0,this.scrollBorder.x=0,this.page=0}},_onSwipeEnd:function(){this.preventScroll=!1,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this.settings.onSwipeEnd.call(this,this.container,this.activeElement,this.page)},_jumpToPage:function(e,t){e&&this._calcNewPage(e,t),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},_scrollToPage:function(e,t){this.preventScroll=!0,e&&this._calcNewPage(e,t),this._animateScroll()},_scrollWithTransform:function(e){var t;t=g()?"horizontal"===this.settings.direction?"translate3d("+e.x+"px, 0, 0)":"translate3d(0, "+e.y+"px, 0)":"horizontal"===this.settings.direction?"translateX("+e.x+"px)":"translateY("+e.y+"px)",r(this.pageContainer,{"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},_animateScrollWithTransform:function(){var e="transform "+this.settings.duration+"ms ease-out",t=(this.container,this._afterScrollTransform);r(this.pageContainer,{"-webkit-transition":"-webkit-"+e,"-moz-transition":"-moz-"+e,"-ms-transition":"-ms-"+e,"-o-transition":"-o-"+e,transition:e}),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y}),p(this.container,"webkitTransitionEnd",t),p(this.container,"oTransitionEnd",t),p(this.container,"transitionend",t),p(this.container,"transitionEnd",t)},_afterScrollTransform:function(){var e=this.container,t=this._afterScrollTransform;this._onSwipeEnd(),h(e,"webkitTransitionEnd",t),h(e,"oTransitionEnd",t),h(e,"transitionend",t),h(e,"transitionEnd",t),r(this.pageContainer,{"-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"",transition:""})},_scrollWithoutTransform:function(e){var t="horizontal"===this.settings.direction?{marginLeft:e.x}:{marginTop:e.y};r(this.pageContainer,t)},_animateScrollWithoutTransform:function(){var e="horizontal"===this.settings.direction?"marginLeft":"marginTop",t="horizontal"===this.settings.direction?-this.scrollBorder.x:-this.scrollBorder.y;d(this.pageContainer,e,t,this.settings.duration,l(this._onSwipeEnd,this))},swipe:function(e){this.settings.onSwipeStart.call(this,this.container,this.activeElement,this.page),this._scrollToPage(e)},updateInstance:function(e){if(e=e||{},"object"==typeof e&&s(this.settings,e),this.pages=c(this.settings.pageClass,this.pageContainer),!this.pages.length)throw new Error(T.pages);this.pagesCount=this.pages.length/this.settings.itemsInPage,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this._sizePages(),this.settings.jumpToPage&&(this.jumpToPage(e.jumpToPage),delete this.settings.jumpToPage),this.settings.scrollToPage&&(this.scrollToPage(this.settings.scrollToPage),delete this.settings.scrollToPage),this.settings.destroy&&(this.destroy(),delete this.settings.destroy)},destroy:function(){var e=this.container;h(e,y),h(e,b),h(e,w),h(n.body,"keydown",this._onKeydown),h(i,"resize",this._sizePages),e.removeAttribute("style");for(var t=0;t<this.pages.length;t++)this.pages[t].removeAttribute("style");e.innerHTML=this.pageContainer.innerHTML},scrollToPage:function(e){this._scrollToPage("page",e-1)},jumpToPage:function(e){this._jumpToPage("page",e-1)}}),t&&(t.fn.dragend=function(e){return e=e||{},this.each(function(){var n=t(this).data("dragend");n?n.updateInstance(e):(n=new f(this,e),t(this).data("dragend",n)),"string"==typeof e&&n.swipe(e)}),this}),f}var n=document,i=e;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t(i.jQuery||i.Zepto)}):i.Dragend=t(i.jQuery||i.Zepto)}(window),function(e,t){"use strict";function n(e){var t="object"==typeof e?e.detail.page:e,n=document.querySelector(t),i=n.querySelector('[data-tab-contents="true"]');return n?void(n.querySelector(".tabs")&&a(t,n,i)):void console.error("The page "+t+" does not exists")}function i(e,n){for(var i=r.length-1;i>=0;i--)if(r[i].page===e){r[i].currentTab!==n&&(r[i].currentTab=n,t.navigator().callCallback("tabchanged",{page:e,tabNumber:n}));var a=document.querySelector(e).querySelector(".tab-indicator");if(a){var o=n-1;a.style.webkitTransform="translateX("+o+"00%)",a.style.MozTransform="translateX("+o+"00%)",a.style.msTransform="translateX("+o+"00%)",a.style.OTransform="translateX("+o+"00%)",a.style.transform="translateX("+o+"00%)"}r[i].dragend.scrollToPage(n);break}}function a(t,n,a){var o=n.querySelectorAll(".tab-items a"),s=n.querySelector(".tab-indicator"),l="true"===a.getAttribute("data-disable-swipe"),c=parseInt(a.getAttribute("data-tab-default",10));(isNaN(c)||c>o.length)&&(c=1),s.style.width=100/o.length+"%";var d={direction:"horizontal",minDragDistance:"100",preventDrag:l,duration:200,pageClass:"tab-content",onDragEnd:function(e,n,a){a+=1,i(t,a)}};r.push({page:t,dragend:new Dragend(a,d),currentTab:c}),e.setTimeout(function(){i(t,c)},10)}function o(e){for(var n=e.target,i=null;n&&n!==document;n=n.parentNode)if(n.classList.contains("tab-item")){i=n;break}if(i){for(var a=i.parentNode.parentNode,o=a.querySelectorAll(".tab-items a"),r=a.querySelector(".tab-indicator"),l=0,c=o.length;l<c&&i!==o[l];l++);var d=l+"00";r.style.webkitTransform="translateX("+d+"%)",r.style.MozTransform="translateX("+d+"%)",r.style.msTransform="translateX("+d+"%)",r.style.OTransform="translateX("+d+"%)",r.style.transform="translateX("+d+"%)";var u=t.navigator().currentPage;s(u,l+1)}}var r=[],s=function(t,n){if("string"!=typeof t)throw new Error("The first argument must be a string, "+typeof n+" given");if("number"!=typeof n)throw new Error("The second argument must be a number, "+typeof n+" given");e.setTimeout(function(){i(t,n)},10)};document.on("tap",o),document.on("pagecreated",n),t.tab=function(){return{setCurrentTab:s,init:function(e){e="undefined"==typeof e?t.navigator().currentPage:e,e||console.error("The page "+e+" does not exists"),n(e)}}}}("undefined"!=typeof window?window:this,window.phonon||{});